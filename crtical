# 1. Set system timezone (one-time)
sudo timedatectl set-timezone Asia/Kolkata  # Or your timezone

# 2. Configure PostgreSQL
sudo nano /etc/postgresql/*/main/postgresql.conf
# Add: timezone = 'localtime'
sudo systemctl restart postgresql

# 3. Verify setup
./verify-timezone-setup.sh



# 1. Backup databases
pg_dump -h localhost -U postgres -d device_core_db > device_core_backup.sql
# ... (repeat for all databases)

# 2. Run migrations
cd FMS-device-core && npm run typeorm migration:generate -- -n FixTimezoneColumns && npm run typeorm migration:run
cd ../FMS-deployment-service && npm run typeorm migration:generate -- -n FixTimezoneColumns && npm run typeorm migration:run
cd ../traffic-management-service && npm run typeorm migration:generate -- -n FixTimezoneColumns && npm run typeorm migration:run
cd ../FMS-mission-service && npx prisma migrate dev --name fix-timezone-columns
cd ../FMS-dashboard-services && npx prisma migrate dev --name fix-timezone-columns

# 3. Restart services




# Run verification script
./verify-timezone-setup.sh

# Manual test
date                    # Check system time
# Create a record via API
# Query database and compare timestamps
